<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/script.js"></script>

    <title>Reijiro</title>
    <meta name="description" content="A Rails app to read and memorize Eijiro">

    <meta name="viewport" content="width=device-width,initial-scale=1">

  </head>

  <body>

    <div class="wrapper">
      <header>
	<h1 class="title">Reijiro</h1>
      </header>
      <div id="container">
	<p class="tagline">英辞郎CD-ROMを使った間隔反復学習のためのRailsアプリ</p>
	<div id="main" role="main">
          <div class="download-bar">
            <div class="inner">
              <a href="https://github.com/knsmr/reijiro/tarball/master" class="download-button tar"><span>Download</span></a>
              <a href="https://github.com/knsmr/reijiro/zipball/master" class="download-button zip"><span>Download</span></a>
              <a href="https://github.com/knsmr/reijiro" class="code">fork Reijiro on GitHub</a>
            </div>
            <span class="blc"></span><span class="trc"></span>
          </div>
          <article class="markdown-body">
            <h3>Reijiroとは</h3>

	    <p>「Reijiro」は英辞郎CD-ROMを使った単語帳アプリです。単語やイディオムごとに学習時刻を記録し、その復習間隔を徐々に広げていくことで効率良く記憶定着を促す学習法「<a href="http://en.wikipedia.org/wiki/Spaced_repetition">Spaced Repetition</a>」を実現しています。</p>

	    <p>Reijiroは作者の西村賢 (<a href="http://twitter.com/knsmr">@knsmr</a>)が自分の英語学習のために個人的に作成して利用しているソフトウェアですが、ほかの学習者の役に立つかもしれないと思い、オープンソースで公開しています。MITライセンスで、無保証です。</p>

	    <p><img src="images/reijiro01.png"></p>

	    <h3>利用上の注意</h3>

	    <p>※ Reijiroの利用には英辞郎CD-ROMが必要です。CD-ROMは、<a href="http://shop.alc.co.jp/cnt/eijiro/?rfcd=SA_s_eng_dic_top">アルクのページ</a>や<a href="http://www.amazon.co.jp/dp/4757419856/">アマゾンのページ</a>から購入できます。</p>

	    <p>※ 古いバージョンの英辞郎CD-ROMはPDIC形式というフォーマットを使っていますが、ReijiroはPDICには対応していません。</p>

	    <p>※ RubyやRailsに関する知識がないと、インストールや利用は難しいと思います、スミマセン。</p>

	    <p>※ 単に英辞郎CD-ROMを引くのが目的であれば、<a href="https://github.com/edvakf/EijiroX">EijiroX</a>というソフトウェアがあります。テキストをSQlite3形式に変換して、Chromeエクステンションで単語のインクリメンタルサーチができるそうです。動画デモを見る限り、かなりヨサゲです。</p>

	    <h3>英辞郎をSpaced Repetitionで「読む」</h3>

	    <p>Reijiroで単語をクリップすると、その単語は1日後、3日後、1週間後、2週間後……というタイミングで提示されます。Spaced Repetition(SR)については、「<a href="http://readingmonkey.blog45.fc2.com/blog-entry-499.html">復習のタイミングを変えるだけで記憶の定着度は4倍になる / 読書猿Classic: between / beyond readers</a>」というブログが参考になります。</p>

	    <p>以下、ざっくりとした概要図を示します。</p>

	    <p><img src="images/interval_buttons.png" alt="Interval" title="復習の時間間隔を開けていく" /></p>

	    <p><img src="images/review.png" alt="review" /></p>

	    <p><img src="images/chart.png" alt="chart" /></p>

	    <p>SRの研究や利活用の歴史は古く、少なくとも50年程度の歴史はあるようです。すでに多くのメソッドがあり、ここ20年ほどはソフトウェアやサービスとしても提供されています。ソフトウェアでは<a href="http://www.supermemo.com/">SuperMemo</a>や<a href="http://ankisrs.net/">Anki</a>が有名で、SRを取り入れた外国語学習サービスとしては<a href="http://iknow.jp">iKnow</a>があります。明示的にユーザーに進ちょく管理を委ねる方法ばかりでなく、隠れマルコフモデルなど統計モデルを使って個々のアイテムの記憶定着度を推定するようなアプローチもあるようです。</p>

	    <p>これらの先行するソフトウェアやサービスとReijiroの違いは、英辞郎を使っている点にあります。英辞郎は一般的な意味でいう辞書ではありません。用例と例文が豊富に収録されています（医学系や化学系が異様に充実していてバランスが悪いという難点などもありますが）。語彙の学習や増強というのが、多数の語が作るネットワーク型知識の獲得に他ならないとすれば、用例や文例を繰り返し眺めることに効果あるのではないかと思います。英語に限らないと思いますが、良い辞書は繰り返し「読む」のが効果があるのではないでしょうか。ただ、全体を読むのは大変なので、部分的に切り出して読むことが良いというのがReijiro作者の経験則です。それが、手で書き写すことなくできる電子辞書時代は素晴らしい。</p>

	    <p>英辞郎を使って語彙学習するのは、英語学習者の中でも中級、上級向けという気がします。初中級では研究社の中辞典、英英辞典ならロングマンなどが良いでしょう。辞書インポートのスクリプトだけ書き換えれば、EPWING版の辞書をReijiroで使うこともできると思います。</p>

	    <h3>動作環境</h3>

	    <ul>
	      <li>Ruby 1.9.2+</li>
	      <li>Ruby on Rails 3.2+</li>
	      <li>SQlite3</li>
	      <li>Canvasを使っているのでIEではたぶん統計グラフが出ません（というか、その他も含めてIEでは動作確認をしていません）</li>
	      <li>基本的にローカルマシンで動かすことを想定しています。Mac OS XとLinuxで動作を確認していますが、Windowsでは辞書のインポートスクリプトが動かないと思います。</li>
	      <li>サーバにデプロイすれば、タブレットやスマフォからも利用できます。ただし、Basic認証をかけるなどの対策をしないと著作権侵害になりますので、自己責任でご利用ください。</li>
	      <li>インポート直後のDBのサイズは700MB程度です。</li>
	    </ul>

	    <p><img src="images/smartphone.jpg" alt="Reijiro" title="スマフォでReijiro" /></p>

	    <h3>インストール</h3>

	    <p>最初にCD-ROMの辞書をSQlite3形式に変換します。</p>

	    <p>まずReijiroのレポジトリをコピーして、<code>config/initializers/reijiro.rb</code> にある config.dictionary_path を編集します。英辞郎CD-ROMから展開したEIJI-128.TXTや、REIJI-128.TXTなどの辞書テキストファイルへのパスを書き入れてください。英辞郎CD-ROMに含まれるテキストファイルは、CD-ROMに含まれるZIPファイルを書籍に印字されているパスワードで解凍することで得られます。EIJI-128.TXの128はバージョンでCD-ROMの購入時期によって異なります。</p>

	    <pre><code>
$ git clone https://github.com/knsmr/reijiro
$ cd reijiro
$ bundle install
$ vi config/initializers/reijiro.rb

module Reijiro
  class Application &lt; Rails::Application
    # Set the path to EIJI-128.txt, etc.
    config.dictionary_path = "/path/to/Eijiro6T"
  end
end
	    </code></pre>

	    <p>続いて、データベースを作成します。</p>

	    <pre><code>
$ rake db:migrate
$ rake db:seed
:
: (takes a while to convert)
:
</code></pre>

	    <p>「rake db:seed」で、英辞郎形式のテキストファイルから、必要なSQlite3のデータベースを生成します。この変換には、2.8GHzのCore 2 Duo＋SSDの環境で、10分以上かかります。</p>

	    <p>※ 英辞郎のテキストファイルからSQlite3へ変換するコードは、<a href="https://github.com/edvakf/EijiroX">EijiroX</a>のmakedatabase.rbの実装を参考にさせていただきました。</p>

	    <p>起動には、</p>

	    <pre><code>$ rails s
	    </code></pre>

	    <p>とか</p>

	    <pre><code>$ rails s -d
	    </code></pre>

	    <p>などとしてください。</p>

	    <p>ブラウザで http://localhost:3000/ にアクセスすれば、Reijiroの画面が開きます。</p>

	    <p>サーバにデプロイする場合は、<code>config/initializers/basic_authentication.rb</code> でBASIC認証の設定をしてください。誰でもアクセスできる状態でサーバに置いておくと、著作権（公衆送信権）の侵害になりますので十分に注意してください。</p>

	    <pre><code>
$ cd config/initializers
$ mv basic_authentication.sample basic_authentication.rb
$ (edit) basic_authentication.rb
	    </code></pre>

	    <h3>使い方</h3>

	    <h4>語彙のクリップ方法は2つ</h4>

	    <p>起動しただけでは何も単語の登録がありません。まず、新たに単語や熟語表現をクリップします。クリップ方法には2通りあります。いずれの方法でクリップしても、アメリカ式の発音へのリンク（Macmillan Dictionary）、類義語、同意語・反意語（Thesaurus.com）、Google検索のリンクなどが付加されます。</p>

	    <p>1つは上部メニューの「Levels」から、12段階のレベル別に単語をクリップする方法です。単語はアルファベット順に5個ずつまとめて行うか、一覧から選択してクリップするかできます。より出現頻度の高いLevel1から単語を眺めて行って、知らない単語をクリップするのが効果が高いように思います。</p>

	    <p>各レベルには単語が1000個含まれるので、Levelsには合計で約1万2000個含まれます。</p>

	    <p><img src="images/alcimport.png" alt="Reijiro" title="ALCの1万2000語の基礎語彙をレベル別にクリップ" /></p>

	    <p><img src="images/wordlist.png" alt="Reijiro" title="一覧からクリップ" /></p>

	    <p>英辞郎を提供しているアルクは、独自に基礎語彙を選定してレベル付けしています。この1万2000語を抑えるのが基本的な目標となるでしょう。後述する検索機能を使えば、この1万2000語に含まれない語彙もクリップできます。</p>

	    <p>ALCの1万2000語がどういうレベルかを紹介すると、例えばレベル1には、「about、above、across、act」など中学校レベルの単語が含まれます。レベル5には、「abandon、abolish、absurd、abundance」などが、レベル12には「abate、abdicate、abdominal、abhor」などが含まれます。</p>

	    <p>ちなみに、Reijiro作者は数年前にTOEICで990点を取りましたが、レベル12には結構知らない単語が含まれます。レベル8〜11の穴を抑えることが効果的な学習ではないかという仮説で学習しています。また、日々英文を聞いたり読んだりする中でReijiroで辞書を引きますが、出現頻度がそこそこ高そうなのにレベル12に収まらない語彙もかなり多いなと感じています。Reijiroではレベル12に収まらない語彙はレベル0として表示されます。</p>

	    <p>レベル1〜6でも、知らなかった用例やイディオムも多いです。語法の分かっていなかった単語も多くあります。一例を挙げると、surrender という単語はレベル4で「降伏」という意味の名詞としては中学生でも知っていそうですが、他動詞として、</p>

<pre>
1〔命令や強制により〕～を明け渡す、～の所有権を放棄する
・He was arrested and his passport was surrendered. : 彼は逮捕されパスポートは没収された。
〔好意などにより人に～を〕譲る、あげる
・I surrendered my seat to the old woman. : 席をその老婦人に譲った。
〔希望や意向などを〕あきらめる、捨てる
・I have not yet surrendered my hope. : 私はまだ希望を捨てていない。
</pre>

	    <p>という語法があるのを知りませんでした。知らなければ聞き取りのときに、「あれっ？」と思うでしょうし、知らなければスピーキングで使えるわけがないのですね。この意味では知っている単語についても用例を読むのは大事だなと思っています。</p>

	    <p>「自分でスピーキングで使えるようにしたい語彙や用例」「作文時に使えるようにしたい語彙」「聞いたり読んだりしたときに、すぐに意味が分かるようにしたい語彙」の3つは、かなり異なるように感じています。意味が分かればいいだけなら、用例や文例を繰り返して発声してみるような練習は不要かなと思うからです。この辺り、種別を作って学習のフローを変えてもいいのかなということを考えたりしています。</p>

	    <h4>検索して語彙をクリップ</h4>

	    <p>日々調べる単語については、検索ウィンドウに対象語を入れるとことで、その単語や表現をインポートできます。英辞郎には「wreck havoc」などという熟語も入っていますが、こうした表現は、ふつうにスペース区切りで検索できます。</p>

	    <p>辞書検索にReijiroを使うことで「調べっぱなしで、その後は忘れたまま」という状態にならなくなります。一旦調べた単語は、適当なタイミングでReijiroが復習を促してくれるからです。空き時間にスマフォで復習することもできます。その時に、どの語を復習すべきかは、Reijiroが知っています。</p>

	    <p>ふだんの辞書検索は、ブラウザの検索エンジンの1つとして登録してしまうといいと思います。Chromeなら「設定→検索→検索エンジンの設定」から「rei → spaceキー → 検索語」といようなことが可能です。</p>

	    <p><img src="images/chrome.png" alt="Chrome" title="Chromeなら検索エンジンとして登録すると便利"</p>

	    <p>英辞郎は変わった辞書で、1つの語彙に複数のエントリが対応します。というよりも、各エントリには1つ、もしくは複数からなる単語や表現、例文が含まれていて、フラットな構造となっています。例えば、attireという単語であれば、以下のとおり数十のエントリがヒットします。</p>

	    <pre><code>
■attire {名} : （豪華｛ごうか｝な）衣装｛いしょう｝
■attire {他動} : 〜に盛装｛せいそう｝させる、めかす
■attire : 【レベル】12、【発音】эta'iэ(r)、【分節】at・tire
■appropriate attire : 適切｛てきせつ｝な［場にあった］服装｛ふくそう｝■・When choosing a costume, refer to the school's guidelines for appropriate attire. 衣装を選ぶ際には、学校の適切な［場にあった］服装のための指針［規則］を参照しなさい。
■attire for someone's wedding day : （人）の結婚式｛けっこんしき｝の衣装｛いしょう｝
■attire in suit and tie : ネクタイとスーツに身を固める
■attire oneself : 身支度する
■casual attire : カジュアルな服装｛ふくそう｝
:
:
■dreadful attire : ひどい［目を覆いたくなるような］服装｛ふくそう｝
■formal black attire : 黒の正装｛せいそう｝
■formal regal attire : 〈英〉公式｛こうしき｝の礼服｛れいふく｝
:
:
■in proper attire : きちんとした服装［身なり］で
■in wedding attire : 婚礼｛こんれい｝の衣装｛いしょう｝をつけて、花嫁｛はなよめ｝［花婿｛はなむこ｝］姿で
■informal attire : インフォーマル・ウェア、略礼装｛りゃくれいそう｝
:
:
■mourning attire : 喪服｛もふく｝
■proper attire for businessman : ビジネスマンにふさわしい服装｛ふくそう｝
■protective attire : 防護服｛ぼうご ふく｝、けがをしないような服装｛ふくそう｝
■relaxed-attire day : 《ビジネス》カジュアルな服装｛ふくそう｝の日
■skimpy attire : 肌もあらわな服装｛ふくそう｝
:
:
■"In Japan, wearing a necktie is the proper attire for formal occasions. : 「日本では正式の時の服装はネクタイ着用です。
■"The necktie is only one part of a person's attire. : 「ネクタイはその人の服装の一部にすぎない。
■Actually, my attire doesn't change in summer and winter, either. : 実は私も、夏と冬で服装が変わりません。
  :
  :
</code></pre>

	    <p>Reijiroでは、これら全てをattireに紐づいたものとして、1つのエントリに突っ込みます。</p>

	    <p>ちなみにattireに含まれる「mourning attire」（喪服）を再度検索し、独立したエントリとしてインポートすることもできます。例えば、pressing concern（差し迫った問題）などは、concernという項目ではなく、独立した1つの表現として覚えるほうが良いかもしれません。</p>

	    <p>用例や例文を全て読むことに価値がある（ので読んで覚えたい）というのがReijiroを作った動機です。「attire=衣装」などと1対1に訳語を覚えることが語彙力増強になると思いません。その語は、どういう語法で使われるか、どういう形容詞や動詞、名詞と結びついて使われるのかといった、いわゆるコロケーション情報が脳内に蓄積されないことには語彙力がつかないと思うからです。もう1つ例を挙げましょう。「dismiss=解散する」という語があります。これは訴えや懇願、案などを棄却するとか退けるという意味で「dismiss a plea」「dismiss a case against something」「dismiss rumors as nothing」（うわさを一蹴する）などと使います。こうした用例を眺めることが重要です。ついでに形容詞のdismissiveや名詞のdismissalも調べて用例を眺めることで初めて、dismissという語が作る語彙のネットワークが何となく見えてくるものだと思います。</p>

	    <p>類義語や反意語については、Thesaurus.comを検索した結果を引用して自動的に貼り付けます。</p>

	    <p>英辞郎は日々成長している辞書ですが、2012年現在で項目数182万、例文数が恐らく20万程度含まれます。これは語数ではなく項目数です。実はALC12000のうち、初級レベルのものほど対応項目が多くて、読むのが大変です。インポートも若干もたつきます。でも、初級レベルのものほど英辞郎を「読む」価値が高いのではないかと思います。</p>

	    <h3>語彙の復習</h3>

	    <p>インポートした語彙は、3つの状態に分類されています。</p>

	    <ol>
	      <li>学習中の語彙のうち、チェック後間もない語彙</li>
	      <li>学習中の語彙のうち、復習すべき語彙</li>
	      <li>学習が完了した語彙</li>
	    </ol>

	    <p>Reijiroを開くことで2の語彙(復習すべき語彙)を1つ表示できます。復習すべき語彙は1つも残っていないかもしれません。この場合、Levelsボタンを押したのと同じ、単語のクリップ画面が開きます。</p>

	    <p>単語が表示された状態で、「Check and proceed」をクリックすると、その語は学習したということでチェック済みとなり、次にチェックすべき日が来るまでは1の状態になります。このとき画面は、次に復習すべき語彙に遷移します。</p>

	    <p>「復習すべき」というのは、その語彙を最後にチェックして(表示して何らかのボタンを押す)からどのぐらい時間が経過しているかによって決まります。0秒、1日、3日、1週間、2週間、1カ月、2カ月、4カ月と伸びていき、合計8回チェックしたらその語彙について学習完了となります。最初から復習間隔を一気に「1カ月後」にしたり「完了」にしても構いません。逆に、3日目に全く思い出せなくて不安を感じるなら、再び1日後に提示するように1 Dayボタンを押しても構いません。</p>

	    <h3>クリップした単語の一覧で復習</h3>

	    <p>SR学習法に従って効率良く単語を記憶していたつもりでしたが、最近気が付いたのは、例えば2週間ぶりに単語を見て、さらにその1ヶ月に見るだけというのは、逆に効率が悪い気がします。忘却が学習の直後の30分や1時間のうちに最も顕著に起こるのだとしたら、ざっと復習をした後に、さらに復習するのが良いはずです。</p>

	    <p>その日に学習した語彙を復習するには、Clipsをクリックします。Clipped wordsとして表示される一覧は、復習した単語順に表示されるので、適当に遡っていくことで復習が可能です。</p>

	    <p><img src="images/clipped.png" alt="highlight" title="クリップした単語の一覧" /></p>

	    <h3>用例の編集</h3>

	    <p>クリップした単語の実例、用例、文例は編集できます。</p>

	    <ol>
	      <li>余計だと思ったら文例を削ることができます。</li>
	      <li>自分にとって重要だと思った用例については、Editボタンを押して編集画面に移り、行頭の「■」を「@■」として半角のアットマークを付加することで一種のアンダーラインを付けることができます。アンダーラインを付けると、蛍光マーカーで線を引いたように、大きく、目立つ色で先頭に表示されるようになります。</li>
	    </ol>

	    <p><img src="images/highlight.png" alt="highlight" title="行頭に@を付ければマーカーを引いたように目立つ表示に" /></p>

	    <p>すでに知っている単語、例えば「crash」という語でも、米口語の「寝る」という用法だけを覚えたいというようなときには、この編集機能が便利です。</p>

	    <h3>進捗状況の確認</h3>

	    <p>クリップした単語の数は、以下のようにレベル別に棒グラフで見ることができます。水色の部分が学習終了を示しています。</p>

	    <p><img src="images/stats.png" alt="stats" title="進捗状況の確認" /></p>

	    <p>1日に何単語をチェック（学習）したかも集計して表示します。あまりどんどんクリップすると、毎日100個単位で復習することになってしまいます。せいぜい1日に30分程度の学習時間なら、1日に5〜10個程度クリップで十分でしょう。最初はクリップした単語の復習だけになりますが、いずれ毎日50〜80個程度を復習するペースに落ち着くと思います。復習なので、さほど時間はかかりません。通勤・通学の空き時間でも対応できる分量でしょう。なみに作者自身はReijiroを使い始めて4カ月程度で、550クリップとなっています。1日平均4.8クリップです。</p>

	    <p><img src="images/sums.png" alt="stats" title="日々の処理数" /></p>

	    <h3>謝辞</h3>

	    <p>Reijiro作成にあたっては、<a href="http://qwik.jp/asakusarb/">Asakusa.rb </a>の皆さまに助言をいただきました。ありがとうございます。</p>

	    <h3>ライセンス</h3>

	    <ul>
	      <li>Reijiro: Copyright 2012 Ken Nishimura. <a href="https://raw.github.com/knsmr/reijiro/master/LICENSE">MIT License</a></li>
	      <li>Twitter Bootstrap: Copyright 2011 Twitter, Inc. <a href="https://raw.github.com/knsmr/reijiro/master/LICENSE-2.0">Apache 2.0 License</a></li>
	      <li>jqPlot: Copyright 2009-2011 Chris Leonello. <a href="https://raw.github.com/knsmr/reijiro/master/LICENSE">MIT License</a></li>
	    </ul>

          </article>
	</div>
      </div>
      <footer>
	<div class="owner">
	  <p><a href="https://github.com/knsmr" class="avatar"><img src="https://secure.gravatar.com/avatar/91fb4852880d1727cca911036e2fef5f?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png" width="48" height="48"/></a> <a href="https://github.com/knsmr">knsmr</a> maintains <a href="https://github.com/knsmr/reijiro">Reijiro</a></p>
	</div>
	<div class="creds">
          <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
	</div>
      </footer>
    </div>
    <div class="current-section">
      <a href="#top">Scroll to top</a>
      <a href="https://github.com/knsmr/reijiro/tarball/master" class="tar">tar</a><a href="https://github.com/knsmr/reijiro/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
      <p class="name"></p>
    </div>
  </body>
</html>
